---
title: "EDA"
author: "Xin"
date: "2024-05-14"
output:
  pdf_document: default
  html_document: default
---
```{r}
library(electBook)
load("Irish.RData")
```

```{r}
head(Irish$indCons[,1:10])
df0 <- Irish$indCons
df0$sum_dem <- rowSums(Irish$indCons)
```

```{r}
sum(apply(Irish$indCons, 2, function(x) sum(x == 0)))
#There are many zeros in the demand data frame
print(16799*2674)
```

```{r}
# Count zeros in each column
col_zero_counts <- colSums(Irish$indCons == 0)

# Histogram of columns with more than 100 zeros
hist(col_zero_counts[col_zero_counts > 100], main="Histogram of Households with More Than 100 Zeros in Record")
abline(v = 0.5 * nrow(df), col = "red", lwd = 2)
```

```{r}
# Count zeros in each row
row_zero_counts <- rowSums(Irish$indCons == 0)

hist(row_zero_counts)
```

```{r}
head(Irish$extra)
```

```{r}
df <- cbind(df0[,"sum_dem"],Irish$extra)
colnames(df) <- c("sum_demand", colnames(Irish$extra))
```

```{r}
head(df)
```

## Visualizing main characteristics

```{r}
# Load necessary libraries
library(ggplot2)
library(dplyr)

# Basic summary of each column
summary(df)
#`holy` is all FALSE

# Visualizing distribution of sum_demand
ggplot(df, aes(x=sum_demand)) + geom_histogram(bins=30) + ggtitle("Distribution of Sum Demand")

# Time series plot of sum_demand
ggplot(df, aes(x=dateTime, y=sum_demand)) + geom_line() + ggtitle("Time Series of Sum Demand")

# Boxplots to check variation of sum_demand across days of the week
ggplot(df, aes(x=dow, y=sum_demand)) + geom_boxplot() + ggtitle("Demand Variation by Day of Week")

```

```{r}
# Scatter plot of sum_demand vs. temperature
ggplot(df, aes(x=temp, y=sum_demand)) +
    geom_point(alpha=0.5) +
    geom_smooth(method="lm", se=FALSE, color="blue") +
    labs(x="Temperature", y="Sum Demand", title="Relationship Between Temperature and Sum Demand")
```
```{r}
# Line plot for sum_demand across different times of day
ggplot(df, aes(x=tod, y=sum_demand, group=1)) +
    geom_point(alpha=0.5) +
    geom_smooth(color="blue") +
    labs(x="Time of Day", y="Sum Demand", title="Sum Demand Across Different Times of Day")

```



